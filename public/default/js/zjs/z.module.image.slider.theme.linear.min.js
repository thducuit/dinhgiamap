zjs.require("image.slider, image.loader, transition",function(f){f.regSliderTheme("linear",function(z,d,a){a=f.extend({width:0,height:0,transition:0,transitionTime:1600,transitionTimingfunction:2,border:!0,preload:!0,autoplay:!0,autoplayTime:6E3,playButton:!1,navButton:!0,navButtonParentIsRoot:!1,navThumb:!0,navDot:!0,showInfo:!0,linkTitle:!1,linkCover:!1,sequent:!0,navThumbSlider:!1,navThumbSliderTransition:"horizontal-page",navThumbSliderTransitionTime:1600,navThumbSliderTransitionTimingfunction:2,
navThumbSliderNavButton:!0,fullHeight:!1,fullWidth:!0,fullscreenWidth:!1,scaleHeightWhenWidthLessThan:0,autoDisableWhenWidthLessThan:0,autoDisableWhenWidthLargerThan:0,hoverToSlide:!1,navThumbTemplate:'<a class="nav-image"></a>',navDotTemplate:'<a class="nav-dot">.</a>',customElementsClass:"elements",customTransitionClass:"transition",usecss:!0,contentSlide:!1,navImagesElMargin:0,startIndex:0,dragSlide:!1,popup:!1,popupOnly:!1,popupShowOnClick:!0,popupHideOnClickOut:!1,popupCloseButton:!0,popupAllowKeyboard:!0,
popupAnimate:!1,popupAnimateTime:1E3,popupAnimateName:"fadeInDown fadeOutUp",popupTransition:!1,popupTransitionTime:!1,popupTransitionTimingfunction:!1,popupAutoplay:!0,popupAutoplayTime:6E3,popupPlayButton:!1,popupNavButton:!0,popupNavButtonParentIsRoot:!1,popupNavThumb:!0,popupNavDot:!0,popupLinkTitle:!1,popupLinkCover:!1,popupSequent:!0,popupFullscreenWidth:!1,onChange:function(a){},allowChange:function(a){return!0},debug:!1},a);if(!a.contentSlide){var ta=[];f.foreach(d,function(a){""!=a.src&&
ta.push(a)});d=ta}a.width=parseInt(a.width);a.height=parseInt(a.height);"none"==a.transition&&(a.transition=0);if("fade"==a.transition||"fadein"==a.transition)a.transition=1;if("horizontal"==a.transition||"slide-horizontal"==a.transition||"horizontal-slide"==a.transition)a.transition=2;"horizontal-stack"==a.transition&&(a.transition=201);"horizontal-page"==a.transition&&(a.transition=202);"horizontal-center"==a.transition&&(a.transition=203);if("vertical"==a.transition||"slide-vertical"==a.transition||
"vertical-slide"==a.transition)a.transition=3;2>d.length&&(a.autoplay=!1);200<a.transition&&(a.fullWidth=!1,a.fullscreenWidth=!1,201==a.transition||202==a.transition)&&(a.navButtonParentIsRoot=!0);a.fullscreenWidth&&(a.fullWidth=!1);a.contentSlide&&(a.preload=!1,a.navThumb=!1,a.hoverToSlide=!1);a.startIndex=parseInt(a.startIndex);0>a.startIndex&&(a.startIndex=0);a.startIndex>=d.length&&(a.startIndex=d.length-1);a.navThumbSlider&&(a.navButtonParentIsRoot=!0,a.navThumb=!1);a.popupOnly&&(a.popup=!0);
a.popupAnimate&&(a.popupAnimateTime=parseInt(a.popupAnimateTime),f.require("ui.popup"));a.scaleHeightWhenWidthLessThan=parseInt(a.scaleHeightWhenWidthLessThan);0>a.scaleHeightWhenWidthLessThan&&(a.scaleHeightWhenWidthLessThan=0);a.autoDisableWhenWidthLessThan=parseInt(a.autoDisableWhenWidthLessThan);0>a.autoDisableWhenWidthLessThan&&(a.autoDisableWhenWidthLessThan=0);a.autoDisableWhenWidthLargerThan=parseInt(a.autoDisableWhenWidthLargerThan);0>a.autoDisableWhenWidthLargerThan&&(a.autoDisableWhenWidthLargerThan=
0);var e=f(z),M=f(document.body),I=e.parent(),Ca=!!e.getData("zmodulesliderlinearispopup",!1),ea=e.html();e.removeAttr("data-option");a.dragSlide&&e.addClass("drag");e.find(a.slideitem).each(function(b,c){if(!(c>=d.length)){var g=f(b).getAttr("data-option","");f.isString(g)&&""!=g.trim()&&(g=g.jsonDecode());f.isObject(g)||(g=!1);d[c].option=g;d[c].customEl=f(b).find("."+a.customElementsClass)}});var C=!0,N=!1,x=!1;if(a.popupOnly)a.popupShowOnClick&&e.find(a.slideitem).each(function(a,c){f(a).setAttr("data-index",
c).click(function(a){a.preventDefault();a=this.getAttr("data-index");S(a);e.trigger("slider.click",{index:a})})});else{var O=e.find("ul,ol,table,div").item(0),ua=f("<div></div>").html('<div class="image-view"><div class="image-view-wrap"></div><div class="image-view-border"></div></div><div class="image-info-wrap"><div class="image-info-container"><div class="image-title"><h4></h4></div><div class="image-description"></div></div></div><div class="image-linkcover-wrap"><a href="#"></a></div><div class="play-wrap"><a class="play-process-bar"></a><div class="playpause-button"></div></div><div class="nav-wrap"><div class="nav-container"><div class="nav-dots-wrap"><div class="nav-dots"></div></div><a class="nav-button nav-back"><i class="icon"></i></a><div class="nav-images-wrap"><div class="nav-images"></div></div><a class="nav-button nav-next"><i class="icon"></i></a></div></div>'),
x=f("<div></div>").addClass("imageslider-wrap");O.count()?x.insertAfter(O):x.appendTo(e);ua.child().each(function(a){f(a).appendTo(x)});e.find(a.slideitem).remove();O.remove();ua.remove();e.addClass("imageslider-linear");e.addClass("total-image-"+d.length);201!=a.transition&&202!=a.transition&&203!=a.transition||e.addClass("horizontal-stack");203==a.transition&&e.addClass("horizontal-center")}var P=e.find(".nav-images-wrap"),O=e.find(".nav-dots-wrap"),va=e.find(".nav-dots"),u=e.find(".nav-images"),
D=0,fa=e.find(".image-view");e.find(".image-view-border");var h=e.find(".image-view-wrap"),ga=e.find(".image-title h4"),Da=e.find(".image-description"),T=e.find(".image-linkcover-wrap"),k=-1,q=-1,wa="",U="",ha="",F="",l=1,m=a.width,p=a.height,V=p,Ea=1;if(a.fullscreenWidth||a.fullWidth)m=a.fullscreenWidth?M.width():I.width();a.fullHeight&&(p=I.height());0>=m&&(m=h.width());0>=m&&(m=I.width());0>=m&&(m=M.width());0>=p&&(p=h.height());0>=p&&(p=parseInt(I.height()));if(0>=p)try{var A=h.getCss();if(A){var xa=
A.match(/(^|[^a-z-])height:\s*(\d+)\s*px/);f.isArray(xa)&&(p=parseInt(xa[2]))}}catch(b){}0>=p&&(p=376);V=p;a.fullHeight||fa.height(p);a.fullscreenWidth||a.fullWidth||fa.width(m);h.setStyle("position","absolute");var ya=h.item(0,!0),w=0,n=-1,J="cubic-bezier(0, 0, 1, 1)",y=!1,Q=function(){y&&h.setStyle("transition","transform "+a.transitionTime+"ms "+J)},W=function(){y&&h.setStyle("transition","")};if(f.supportTransform&&a.usecss){y=!0;h.setStyle("transform","translate3d(0, 0, 0)");switch(a.transitionTimingfunction){case 1:case "sinoidal":J=
"cubic-bezier(0,0,.58,1)";break;case 2:case "quadratic":J="cubic-bezier(0,1,.53,1)";break;case 3:case "cubic":J="cubic-bezier(.34,.95,.84,1.39)";break;case 4:case "elastic":J="cubic-bezier(.71,1.61,.5,.82)"}Q()}d.each(function(b,c){if(!a.popupOnly&&(""!=b.src||a.contentSlide)){if(a.navThumb){var g=a.navThumbTemplate;f.isFunction(g)&&(g=g(c));g=g.format({index:c,src:b.src,title:b.title,description:b.description});g=f(g).addClass("nav-image").setStyle("background-image","url("+b.src+")").setAttr("data-index",
c).appendTo(u).on(a.hoverToSlide?"hover":"click",function(a,b){var c=f(b).getAttr("data-index").toInt();t(c)});b.title&&g.find(".title").html(b.title);D=g.getStyle("margin-right",!0);if(isNaN(D)||!D)D=a.navImagesElMargin}a.navDot&&(g=a.navDotTemplate,f.isFunction(g)&&(g=g(c)),g=g.format({index:c}),f(g).addClass("nav-dot").setAttr("data-index",c).appendTo(va).click(function(a,b){var c=f(b).getAttr("data-index").toInt();t(c)}));var g=f('<div class="image-hold"></div>').addClass("image"+c).setData("image-index",
c).appendTo(h).append(b.customEl),d=g.width();a.contentSlide||g.setStyle({"background-image":"url("+(Ca?b.srcpopup||b.srclarge||b.src:250>d?b.src:b.srclarge||b.src)+")",top:0,left:0});0!=a.transition&&1!=a.transition||g.setStyle({opacity:0,"z-index":0}).hide();1==a.transition&&y&&g.show().setStyle("transition","opacity "+a.transitionTime+"ms "+J);2!=a.transition&&201!=a.transition&&202!=a.transition&&203!=a.transition||g.left(m*c);3==a.transition&&g.top(p*c);if(203==a.transition)g.setAttr("data-index",
c).on("click",function(a){""==f(a.target()).getAttr("href","")&&t(this.getAttr("data-index").toInt())})}});if(a.navThumb){A=parseInt(e.find(".nav-image").width());u.width((A+D)*d.length);var Fa=function(){var a=u.find(".nav-image.active").left();u.left();var c=u.width(),g=P.width(),a=2*(P.find(".nav-image").width()+D)-a;0<a&&(a=0);a<g-c+D&&(a=g-c+D);u.width()<P.width()&&(a=P.width()/2-u.width()/2);f.supportTransition?u.left(a):f.timer({from:u.left(),to:a,onProcess:function(a){u.left(a)},onFinish:function(a,
b){u.left(b)}}).run()}}else P.remove();a.navDot||O.remove();a.navButton?(e.find(".nav-back").click(function(){za()}),e.find(".nav-next").click(function(){ja()}),a.navButtonParentIsRoot&&e.find(".nav-next, .nav-back").appendTo(e)):e.find(".nav-back, .nav-next").remove();if(a.navThumbSlider){var A=f("<div></div>").appendTo(e).addClass("nav-slider-wrap"),K=f("<div></div>").html(ea).appendTo(A);K.addClass("imageslider-linear-navigation").makeSlider({theme:"linear",border:!1,preload:!1,autoplay:!1,navButton:a.navThumbSliderNavButton,
navThumb:!1,navDot:!1,showInfo:!1,linkTitle:!1,linkCover:!1,transition:a.navThumbSliderTransition,transitionTime:a.navThumbSliderTransitionTime,transitionTimingfunction:a.navThumbSliderTransitionTimingfunction}).on("slider.click",function(a){t(a.data.index)});e.on("slider.change",function(a){K.find(".image-hold").removeClass("main-slider-active");var c=K.find(".image-hold.image"+a.data.index).addClass("main-slider-active"),g=parseInt(K.find(".image-view-wrap").getData("real-pos")),d=K.width(),e=c.left(),
c=c.width();(0>g+e||g+e+c>d)&&K.slideTo(a.data.index)})}a.linkTitle&&ga.hover(function(){e.addClass("linktitlehover")},function(){e.removeClass("linktitlehover")});a.linkCover?T.hover(function(){e.addClass("linkcoverhover")},function(){e.removeClass("linkcoverhover")}):T.remove();e.setStyle("overflow","visible");var t=function(b,c,g,ia){g=g||!1;ia=ia||!1;if(C)if(b=parseInt(b),H.isRunning()&&H.stop(),b>=d.length&&(b=d.length-1),0>b&&(b=0),2!=B&&"function"==typeof a.allowChange&&a.allowChange(b)){if(q=
k,k=b,g||k!=q){d[b]&&(wa=d[b].srclarge||d[b].src,U=d[b].title,F=d[b].link,ha=d[b].description,F=d[b].link);f.moduleTransition&&e.find(".image"+q+" ."+a.customTransitionClass).stopTransition().unsetTransition();c=c||{};c=f.extend({index:k,oldindex:q,image:wa,title:U,description:ha,link:F},c);h.find(".image"+k).setStyle("z-index",Ea++);g=g||!1;switch(a.transition){case 1:y?(h.find(".image"+k).setStyle("opacity",1),1<d.length&&h.find(".image"+q).setStyle("opacity",0)):Ga.stop().run();break;case 2:case 203:if(a.sequent||
0>q)n=-m*b;else{l=q<k?1:-1;"direction"in c&&(l="next"==c.direction?1:-1);h.find(".image"+k).left(h.find(".image"+q).left()+m*l);n-=m*l;for(var r=h.find(".image"+q).left(),G=[0,[1,2],[-1,-0],[2,3],[-2,-1],[3,4],[-3,-2],[4,5],[-4,-3],[5,6],[-5,-4]],u=1;u<G.length;u++)d.length>u&&h.find(".image"+L(k+G[u][0]*l)).left(r+G[u][1]*m*l)}0>q&&!a.sequent&&1<d.length&&h.find(".image"+(d.length-1)).left(-m);g?(W(),v(n,!0),Q.delay(100)):y?v(n,!0):ka.stop().set({from:w,to:n}).run();break;case 3:a.sequent||0>q?n=
-p*b:(l=q<k?1:-1,"direction"in c&&(l="next"==c.direction?1:-1),h.find(".image"+k).top(h.find(".image"+q).top()+p*l),n-=p*l,r=h.find(".image"+q).top(),1<d.length&&h.find(".image"+L(k+1*l)).top(r+2*m*l),2<d.length&&h.find(".image"+L(k-1*l)).top(r-0*m*l),3<d.length&&h.find(".image"+L(k+2*l)).top(r+3*m*l),4<d.length&&h.find(".image"+L(k-2*l)).top(r-1*m*l));0>q&&!a.sequent&&1<d.length&&h.find(".image"+(d.length-1)).top(-p);g&&(W(),v(n,!0),Q.delay(100));y?v(n,!0):ka.stop().set({from:w,to:n}).run();break;
case 201:case 202:if(a.sequent||0>q){if(r=n,n=-m*b,G=x.width()-m*d.length,n<G&&(n=G),r==n&&0>G)return t("direction"in c&&"prev"==c.direction?b-1:0,c,g)}else l=q<k?1:-1,"direction"in c&&(l="next"==c.direction?1:-1),h.find(".image"+k).left(h.find(".image"+q).left()+m*l),n-=m*l,r=k+l,0>r&&(r=d.length-1),r>=d.length&&(r=0),1<d.length&&h.find(".image"+r).left(h.find(".image"+q).left()+2*m*l),5<=d.length&&(r+=l,0>r&&(r=d.length-1),r>=d.length&&(r=0),2<d.length&&h.find(".image"+r).left(h.find(".image"+k).left()+
2*m*l));0>q&&!a.sequent&&1<d.length&&h.find(".image"+(d.length-1)).left(-m);g?(W(),v(n,!0),Q.delay(100)):y?v(n,!0):ka.stop().set({from:w,to:n}).run();break;default:h.find(".image"+k).setStyle("opacity",1).show(),1<d.length&&h.find(".image"+q).setStyle("opacity",0).hide()}a.linkTitle&&""!=F?ga.html('<a href="'+F+'">'+U+"</a>"):ga.html(U);a.linkCover&&""!=F&&T.find("a").setAttr("href",F);Da.html(ha);h.find(".image-hold").removeClass("active active-next active-back active-next2 active-back2");R(b,"active");
1<d.length&&R(b+1,"active-next");2<d.length&&R(b-1,"active-back");3<d.length&&R(b+2,"active-next2");4<d.length&&R(b-2,"active-back2");e.find(".nav-image, .nav-dot").removeClass("active");e.find(".nav-image[data-index="+b+"], .nav-dot[data-index="+b+"]").addClass("active");a.navThumb&&Fa();f.moduleTransition&&h.find(".image"+k+" ."+a.customTransitionClass).playTransition({autoplay:!1});ia||(a.onChange(c),e.trigger("slider.change",c));a.autoplay&&(b=a,f.isObject(d[k].option)&&(b=f.extend(b,d[k].option)),
H.set({time:b.autoplayTime}).run())}}else a.autoplay&&H.run();else a.autoplay&&H.run()},L=function(a){a>=d.length&&(a-=d.length);0>a&&(a=d.length+a);return a},R=function(a,c){a=L(a);h.find(".image-hold.image"+a).addClass(c)},Ga=f.timer({from:0,to:1,time:a.transitionTime,onStart:function(a,c){h.find(".image"+k).setStyle("opacity",0).show();h.find(".image"+q).setStyle("opacity",1).show()},onProcess:function(a,c,d){h.find(".image"+k).setStyle("opacity",a);h.find(".image"+q).setStyle("opacity",1-a)},
onStop:function(a,c){h.find(".image"+k).setStyle("opacity",1);h.find(".image"+q).setStyle("opacity",0).hide()},onFinish:function(a,c){h.find(".image"+k).setStyle("opacity",1);h.find(".image"+q).setStyle("opacity",0).hide()}}),ka=f.timer({from:0,to:1,time:a.transitionTime,transition:a.transitionTimingfunction,onStart:function(a,c){},onProcess:function(a,c,d){v(a)},onStop:function(a,c){},onFinish:function(a,c){v(c,!0)}}),v;2!=a.transition&&201!=a.transition&&202!=a.transition&&203!=a.transition||!y?
3==a.transition&&y?v=function(a,c){w=a;h.setStyle("transform","translate3d(0, "+a+"px, 0)");h.setData("real-pos",w)}:2==a.transition||201==a.transition||202==a.transition||203==a.transition?v=function(a,c){w=a;ya.style.left=a+"px";c&&h.setData("real-pos",w)}:3==a.transition&&(v=function(a,c){w=a;ya.style.top=a+"px";c&&h.setData("real-pos",w)}):v=function(a,c){w=a;h.setStyle("transform","translate3d("+a+"px, 0, 0)");h.setData("real-pos",w)};var ja=function(){var b=k+1;if(202==a.transition){var c=parseInt(x.width()/
m),b=k+c;b>=d.length?b=0:b+c>d.length&&(b=d.length-c)}b>=d.length&&(b=0);t(b,{direction:"next"})},za=function(){var b=k-1;if(202==a.transition){var c=parseInt(x.width()/m),b=k-c;0>=b+c?b=d.length-c:0>b&&(b=0)}0>b&&(b=d.length-1);t(b,{direction:"prev"})},B=0,la=0,E=0,X=0,ma=d.length,na=!1;!y||2!=a.transition&&201!=a.transition&&202!=a.transition&&203!=a.transition&&3!=a.transition||!f.isTouchDevice()&&!a.dragSlide||e.drag({direction:2==a.transition||201==a.transition||202==a.transition||203==a.transition?
"horizontal":"vertical",onStart:function(b,c){if(0==B){B=1;if(2==a.transition||201==a.transition||202==a.transition||203==a.transition)E=b.touchX();3==a.transition&&(E=b.touchY())}},onDrag:function(b,c,d,e){if(0!=B){na=!0;c=b.touchX();b=b.touchY();if(2==a.transition||201==a.transition||202==a.transition||203==a.transition)X=c-E;3==a.transition&&(X=b-E);1==B&&0!=X&&(B=2,la=w,W());if(2==B){d=1;if((2==a.transition||201==a.transition||202==a.transition||203==a.transition)&&0==k&&c>E||(2==a.transition||
201==a.transition||202==a.transition||203==a.transition)&&k==ma-1&&c<E||3==a.transition&&0==k&&b>E||3==a.transition&&k==ma-1&&b<E)d=3;v(la+X/d)}}},onDrop:function(a,c,d,e){2==B&&(B=0,a=w<la?k+1:k-1,a=Math.min(Math.max(a,0),ma-1),Q(),a!=k?t(a):v(-m*a))}});var Aa=!1,Ba=function(){Aa?t(k,{},!0):Aa=!0},oa=function(){x&&(N=f("<div></div>").addClass("imageslider-raw"),N.insertAfter(x),N.html(ea),e.addClass("slider-disabled"),x.hide(),C=!1)},pa=function(){N&&N.remove();x.show();e.removeClass("slider-disabled");
C=!0};if(a.fullscreenWidth||a.fullWidth||a.fullHeight){(a.fullscreenWidth||a.fullWidth)&&e.addClass("fullwidth");a.fullHeight&&e.addClass("fullheight");var Y=function(){var b=a.fullscreenWidth?M.width():I.width();0<a.autoDisableWhenWidthLessThan&&(b<=a.autoDisableWhenWidthLessThan&&!0===C?oa():b>a.autoDisableWhenWidthLessThan&&!1===C&&pa());0<a.autoDisableWhenWidthLargerThan&&(b>=a.autoDisableWhenWidthLargerThan&&!0===C?oa():b<a.autoDisableWhenWidthLargerThan&&!1===C&&pa());if(C){if(2==a.transition||
203==a.transition)a.sequent||(n=n*b/m),h.find(".image-hold").each(function(c,d){var e=f(c);a.sequent?e.left(b*d):e.left(e.left()*b/m)}),v(n);m=b;var c=p;0<a.scaleHeightWhenWidthLessThan&&(m<=a.scaleHeightWhenWidthLessThan?(a.fullHeight&&e.removeClass("fullheight"),p=V*m/a.scaleHeightWhenWidthLessThan):a.fullHeight?(e.addClass("fullheight"),p="",V=I.height()):p=V,h.height(p),fa.height(p));3==a.transition&&(a.sequent||(n=n*p/c),h.find(".image-hold").each(function(b,d){var e=f(b);a.sequent?e.top(p*d):
e.top(e.top()*p/c)}),v(n));2!=a.transition&&201!=a.transition&&202!=a.transition&&203!=a.transition&&3!=a.transition||Ba()}};f(window).on("resize",function(){Y.delay(500)}).trigger("resize");0<parseInt(f(document.body).getData("zmodulescrollbarid",0))&&Y.delay(500)}var Z=a.playButton?e.find(".play-wrap"):!1,aa=a.playButton?e.find(".play-process-bar"):!1,H=f.timer({time:a.autoplayTime,transition:"linear",onProcess:function(a){aa&&aa.height(a+"%")},onStop:function(){aa&&aa.height("0%")},onFinish:function(){ja()}}),
ba=function(){a.autoplay=!0;H.stop().run();Z&&Z.addClass("pause")},qa=function(){a.autoplay=!1;H.stop();Z&&Z.removeClass("pause")};a.playButton&&e.find(".play-wrap").click(function(b){b.preventDefault();a.autoplay?qa():ba()});a.navDot||a.navThumb||a.navButton&&!a.navButtonParentIsRoot||e.find(".nav-wrap").remove();a.playButton||e.find(".play-wrap").remove();a.border||e.find(".image-view-border").remove();!a.contentSlide&&a.showInfo||e.find(".image-info-wrap").remove();202==a.transition&&a.navDot&&
f(window).on("resize",function(){var a=parseInt(x.width()/m);va.find(".nav-dot").each(function(c,d){0==d%a?f(c).show():f(c).hide()})}).trigger("resize");var ca=!1,da=!1,S=function(b){if(a.popup){try{if(b=0!==b?b||-1:0,0>b||b>=d.length)b=k}catch(h){b=k}var c=f('<div class="imageslider-popup-page-cover"></div>').appendTo(document.body),g=f('<div class="imageslider-popup-container"><a class="imageslider-popup-close-button">&times;<i class="icon"></i></a><div class="imageslider-popup-wrap"><div class="inpopup-imageslider"></div></div></div>').appendTo(document.body),
m=g.find(".imageslider-popup-close-button"),n=g.find(".inpopup-imageslider");M.addClass("imageslider-popup-show");a.popupAllowKeyboard&&n.addClass("allow-keyboard");e.setData("popupsliderels_popupPageCoverEl",c);e.setData("popupsliderels_popupContainerEl",g);e.setData("popupsliderels_inpopupSliderEl",n);n.setData("parent_SliderEl",e);c.fadeIn({time:a.popupAnimateTime});a.popupAnimate&&g.addClass("zui-popup hide-before-animate "+a.popupAnimateName).setStyle("animation-duration",a.animateTime+"ms");
n.on("slider.ready",function(){qa();a.popupAnimate?(g.removeClass("hide-before-animate"),window.clearTimeout(ca),window.clearTimeout(da),g.addClass("showing animate animate-start"),ca=function(){g.addClass("animate-end")}.delay(a.popupAnimateTime),da=function(){g.removeClass("showing animate animate-start animate-end")}.delay(a.popupAnimateTime+100)):g.fadeIn();e.trigger("slider.popup.show",{index:b,info:d[b]})});var l=f.extend(f.clone(a),{popup:!1,popupOnly:!1,popupShowOnClick:!1,popupHideOnClickOut:!1,
popupCloseButton:!1,startIndex:b,autoplay:a.popupAutoplay,autoplayTime:a.popupAutoplayTime,playButton:a.popupPlayButton,navButton:a.popupNavButton,navButtonParentIsRoot:a.popupNavButtonParentIsRoot,navThumb:a.popupNavThumb,navDot:a.popupNavDot,linkTitle:a.popupLinkTitle,linkCover:a.popupLinkCover,sequent:a.popupSequent,fullWidth:a.popupFullWidth,fullscreenWidth:a.popupFullscreenWidth});!1!==l.popupTransition&&(l.transition=l.popupTransition);!1!==l.popupTransitionTime&&(l.transitionTime=l.popupTransitionTime);
!1!==l.popupTransitionTimingfunction&&(l.transitionTimingfunction=l.popupTransitionTimingfunction);(function(){n.html(ea);n.setData("zmodulesliderlinearispopup",!0).makeSlider(l)}).delay(100);a.popupHideOnClickOut&&c.click(function(a){a.preventDefault();ra()});a.popupCloseButton?m.click(function(a){a.preventDefault();ra()}):m.remove()}},A=function(b){if(na)na=!1;else{!f(b.target()).is("a[href]")&&0>=f(b.target()).findUp("a[href]").count()&&!f(b.target()).is("form")&&0>=f(b.target()).findUp("form").count()&&
b.preventDefault();var c=-1;(b=b.target())&&(b=f(b));b.hasClass("image-hold")||(b=b.findUp(".image-hold"));b.hasClass("image-hold")||(b=!1);b&&(c=parseInt(b.getData("image-index",-1)));0<=c?(a.popup&&a.popupShowOnClick&&S(c),e.trigger("slider.click",{index:c})):a.popup&&a.popupShowOnClick&&S()}};a.popup&&(h.click(A),T.click(A));var ra=function(){if(a.popup){var b=e.getData("popupsliderels_popupPageCoverEl"),c=e.getData("popupsliderels_popupContainerEl"),d=e.getData("popupsliderels_inpopupSliderEl");
d&&d.slidePause();c&&(a.popupAnimate?(window.clearTimeout(ca),window.clearTimeout(da),c.addClass("hiding animate animate-start"),ca=function(){c.addClass("animate-end")}.delay(a.popupAnimateTime),da=function(){c.removeClass("hiding animate animate-start animate-end");c.remove()}.delay(a.popupAnimateTime+100)):c.removeSlow());b&&b.fadeOut({time:a.popupAnimateTime,callback:function(){b.remove();M.removeClass("imageslider-popup-show")}});e.trigger("slider.popup.hide")}};e.trigger("slider.ready");var sa=
!1;"function"==typeof f.loadImages&&(a.preload&&(sa=f('<div class="slider-loading-wrap"><div class="text-wrap"><span class="percent"></span>%</div></div>').appendTo(z)),f.loadImages({images:function(){for(var a=[],c=0;c<d.length;c++)"undefined"!=typeof d[c].src&&""!=d[c].src&&a.push(d[c].src),"undefined"!=typeof d[c].srclarge&&""!=d[c].srclarge&&a.push(d[c].srclarge),"undefined"!=typeof d[c].srcpopup&&""!=d[c].srcpopup&&a.push(d[c].srcpopup);return a}(),onLoading:function(b){a.preload&&sa.find(".percent").html(b.toString())},
onFinish:function(){if(a.preload&&(!a.debug||"loading"!=a.debug)){sa.removeSlow();t(0,{},!0,!0);1<d.length&&(t(1,{direction:"next"},!0,!0),t(0,{direction:"prev"},!0,!0));if(0<a.startIndex)for(var b=0;b<a.startIndex;)t(++b,{direction:"next"},!0,!0);(a.fullscreenWidth||a.fullWidth)&&Y();a.autoplay&&ba();e.trigger("slider.load")}}}));if(!a.preload){t(0,{},!0,!0);1<d.length&&(t(1,{direction:"next"},!0,!0),t(0,{direction:"prev"},!0,!0));if(0<a.startIndex)for(z=0;z<a.startIndex;)t(++z,{direction:"next"},
!0,!0);(a.fullscreenWidth||a.fullWidth)&&Y();a.autoplay&&ba();e.trigger("slider.load")}return{slideTo:t,slideNext:ja,slidePrev:za,slidePlay:ba,slidePause:qa,slidePopupShow:S,slidePopupHide:ra,slideRefresh:Ba,slideDisable:oa,slideEnable:pa}});f(document).on("keydown",function(z){37==z.keyCode()&&f(".inpopup-imageslider.allow-keyboard").slidePrev();39==z.keyCode()&&f(".inpopup-imageslider.allow-keyboard").slideNext();27==z.keyCode()&&f(".inpopup-imageslider.allow-keyboard").getData("parent_SliderEl").slidePopupHide()});
"required"in f&&f.required("image.slider.theme.linear")});